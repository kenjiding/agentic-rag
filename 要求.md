
## 要求
 - 必须首先完全理解代码逻辑和架构后, 然后输出修改步骤后再开始有条理的修改
 - 修改不能有补丁代码，不能有堆叠代码, 不要使用魔术代码, 包括不能使用魔术字符串, 不能使用hack代码临时解决问题
 - 不能只针对某个问题做兼容修复, 要通用的实现方案
 - 必须是要从源头找到根源问题, 再从根源到发生问题的链路上解决问题
 - 必须先去查阅了解langgraph 1.x或者langchain 1.x版本的最新英文官方文档,了解最佳实践后, 再去实现功能, 或者修改代码 
 - 不需要写兼容代码


## 对于多步骤任务,正确的流程如下
 1. 用户提问“帮我购买3个西门子产品”
 2. ai返回可以选择的商品列表
 3. 用户选中了某个商品
 4. ai进行信息确认, 出现确认订单的交互ui
 5. 用户点击"确认"订单, ai进行真正的下单操作.点击"取消"ai取消购买,下单流程
 6. 点击"取消"下单, ai恢复正常的客服沟通流程, 清理多任务 or 确认等流程数据, 用户其他提问进行对应的回答即可

 ## 项目
  - 使用langgraph 1.x最新的官方实践 interrupt和Command实现中断,恢复功能
  - 因为现在项目都适用Pydantic了. 不需要兼容字段的操作, 只支持Pydantic的写法就行
